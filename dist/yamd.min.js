!function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.yamd=t():e.yamd=t()}("undefined"!=typeof self?self:this,(function(){return(()=>{"use strict";var e={207:e=>{function peg$SyntaxError(e,t,r,n){this.message=e,this.expected=t,this.found=r,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}!function peg$subclass(e,t){function ctor(){this.constructor=e}ctor.prototype=t.prototype,e.prototype=new ctor}(peg$SyntaxError,Error),peg$SyntaxError.buildMessage=function(e,t){var r={literal:function(e){return'"'+literalEscape(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?classEscape(e.parts[t][0])+"-"+classEscape(e.parts[t][1]):classEscape(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function hex(e){return e.charCodeAt(0).toString(16).toUpperCase()}function literalEscape(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+hex(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+hex(e)}))}function classEscape(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+hex(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+hex(e)}))}return"Expected "+function describeExpected(e){var t,n,a,i=new Array(e.length);for(t=0;t<e.length;t++)i[t]=(a=e[t],r[a.type](a));if(i.sort(),i.length>0){for(t=1,n=1;t<i.length;t++)i[t-1]!==i[t]&&(i[n]=i[t],n++);i.length=n}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+function describeFound(e){return e?'"'+literalEscape(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:peg$SyntaxError,parse:function peg$parse(e,t){t=void 0!==t?t:{};var r,n={},a={start:peg$parsestart},i=peg$parsestart,o=peg$literalExpectation("[",!1),l="<",s=peg$literalExpectation("<",!1),p="!",u=peg$literalExpectation("!",!1),f='"',c=peg$literalExpectation('"',!1),h="#",d=peg$literalExpectation("#",!1),g="$",m=peg$literalExpectation("$",!1),$="%",y=peg$literalExpectation("%",!1),v="&",x=peg$literalExpectation("&",!1),b="'",A=peg$literalExpectation("'",!1),E=")",C=peg$literalExpectation(")",!1),w="*",k=peg$literalExpectation("*",!1),_="+",T=peg$literalExpectation("+",!1),j=",",H=peg$literalExpectation(",",!1),M="-",O=peg$literalExpectation("-",!1),I="/",S=peg$literalExpectation("/",!1),N=";",z=peg$literalExpectation(";",!1),P="=",q=peg$literalExpectation("=",!1),R=">",F=peg$literalExpectation(">",!1),D="?",U=peg$literalExpectation("?",!1),W="@",L=peg$literalExpectation("@",!1),J="\\",Y=peg$literalExpectation("\\",!1),B="^",G=peg$literalExpectation("^",!1),K="_",Q=peg$literalExpectation("_",!1),V="{",X=peg$literalExpectation("{",!1),Z="|",ee=peg$literalExpectation("|",!1),te="}",re=peg$literalExpectation("}",!1),ne="~",ae=peg$literalExpectation("~",!1),ie=/^[a-z]/,oe=peg$classExpectation([["a","z"]],!1,!1),le=/^[a-z0-9]/,se=peg$classExpectation([["a","z"],["0","9"]],!1,!1),pe=":",ue=peg$literalExpectation(":",!1),peg$c65=function(e,t,r,n){return":"+r+n.join("")},fe="",ce=peg$literalExpectation("(",!1),he=/^[a-z0-9\-]/,de=peg$classExpectation([["a","z"],["0","9"],"-"],!1,!1),ge={type:"any"},peg$c74=function(e,t,r,n,a,i){return[r,n,a,i]},me=/^['"()[\] \t\n\r]/,$e=peg$classExpectation(["'",'"',"(",")","[","]"," ","\t","\n","\r"],!1,!1),peg$c77=function(e,t,r,n){return[r,"",n,""]},peg$c79=function(e,t,r){return{_type:"attribute",attribute:[t].concat(r)}},peg$c80=function(e,t){return{_type:"whitespace",whitespace:t}},peg$c81=function(e,t){return{_type:"error",error:t}},ye=".",ve=peg$literalExpectation(".",!1),xe=peg$literalExpectation("]",!1),be="`",Ae=peg$literalExpectation("`",!1),peg$c96=function(e){return{type:"text",text:e.join(""),location:location()}},Ee=/^[ \t\n\r]/,Ce=peg$classExpectation([" ","\t","\n","\r"],!1,!1),we=0,ke=0,_e=[{line:1,column:1}],Te=0,je=[],He=0;if("startRule"in t){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');i=a[t.startRule]}function location(){return peg$computeLocation(ke,we)}function peg$literalExpectation(e,t){return{type:"literal",text:e,ignoreCase:t}}function peg$classExpectation(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function peg$computePosDetails(t){var r,n=_e[t];if(n)return n;for(r=t-1;!_e[r];)r--;for(n={line:(n=_e[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return _e[t]=n,n}function peg$computeLocation(e,t){var r=peg$computePosDetails(e),n=peg$computePosDetails(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function peg$fail(e){we<Te||(we>Te&&(Te=we,je=[]),je.push(e))}function peg$buildStructuredError(e,t,r){return new peg$SyntaxError(peg$SyntaxError.buildMessage(e,t),e,t,r)}function peg$parsestart(){var e,t;return e=we,(t=peg$parsethings())!==n&&(ke=e,t={root:{type:"root",children:t,location:location()}}),e=t}function peg$parsethings(){var e,t;for(e=[],t=peg$parsething();t!==n;)e.push(t),t=peg$parsething();return e}function peg$parsething(){var t;return(t=function peg$parseelement(){var t,r,a,i,o,l;t=we,r=function peg$parselbm_push(){var e,t;e=we,(t=peg$parselbm())!==n&&(ke=e,r=t,Oe.push(r.length),t=r);var r;return e=t}(),r!==n?(a=function peg$parsetag_name(){var t,r,a,i,o,l,s,ce,he,de;t=we,r=[],33===e.charCodeAt(we)?(a=p,we++):(a=n,0===He&&peg$fail(u));if(a!==n)for(;a!==n;)r.push(a),33===e.charCodeAt(we)?(a=p,we++):(a=n,0===He&&peg$fail(u));else r=n;if(r===n){if(r=[],34===e.charCodeAt(we)?(a=f,we++):(a=n,0===He&&peg$fail(c)),a!==n)for(;a!==n;)r.push(a),34===e.charCodeAt(we)?(a=f,we++):(a=n,0===He&&peg$fail(c));else r=n;if(r===n){if(r=[],35===e.charCodeAt(we)?(a=h,we++):(a=n,0===He&&peg$fail(d)),a!==n)for(;a!==n;)r.push(a),35===e.charCodeAt(we)?(a=h,we++):(a=n,0===He&&peg$fail(d));else r=n;if(r===n){if(r=[],36===e.charCodeAt(we)?(a=g,we++):(a=n,0===He&&peg$fail(m)),a!==n)for(;a!==n;)r.push(a),36===e.charCodeAt(we)?(a=g,we++):(a=n,0===He&&peg$fail(m));else r=n;if(r===n){if(r=[],37===e.charCodeAt(we)?(a=$,we++):(a=n,0===He&&peg$fail(y)),a!==n)for(;a!==n;)r.push(a),37===e.charCodeAt(we)?(a=$,we++):(a=n,0===He&&peg$fail(y));else r=n;if(r===n){if(r=[],38===e.charCodeAt(we)?(a=v,we++):(a=n,0===He&&peg$fail(x)),a!==n)for(;a!==n;)r.push(a),38===e.charCodeAt(we)?(a=v,we++):(a=n,0===He&&peg$fail(x));else r=n;if(r===n){if(r=[],39===e.charCodeAt(we)?(a=b,we++):(a=n,0===He&&peg$fail(A)),a!==n)for(;a!==n;)r.push(a),39===e.charCodeAt(we)?(a=b,we++):(a=n,0===He&&peg$fail(A));else r=n;if(r===n){if(r=[],41===e.charCodeAt(we)?(a=E,we++):(a=n,0===He&&peg$fail(C)),a!==n)for(;a!==n;)r.push(a),41===e.charCodeAt(we)?(a=E,we++):(a=n,0===He&&peg$fail(C));else r=n;if(r===n){if(r=[],42===e.charCodeAt(we)?(a=w,we++):(a=n,0===He&&peg$fail(k)),a!==n)for(;a!==n;)r.push(a),42===e.charCodeAt(we)?(a=w,we++):(a=n,0===He&&peg$fail(k));else r=n;if(r===n){if(r=[],43===e.charCodeAt(we)?(a=_,we++):(a=n,0===He&&peg$fail(T)),a!==n)for(;a!==n;)r.push(a),43===e.charCodeAt(we)?(a=_,we++):(a=n,0===He&&peg$fail(T));else r=n;if(r===n){if(r=[],44===e.charCodeAt(we)?(a=j,we++):(a=n,0===He&&peg$fail(H)),a!==n)for(;a!==n;)r.push(a),44===e.charCodeAt(we)?(a=j,we++):(a=n,0===He&&peg$fail(H));else r=n;if(r===n){if(r=[],45===e.charCodeAt(we)?(a=M,we++):(a=n,0===He&&peg$fail(O)),a!==n)for(;a!==n;)r.push(a),45===e.charCodeAt(we)?(a=M,we++):(a=n,0===He&&peg$fail(O));else r=n;if(r===n){if(r=[],47===e.charCodeAt(we)?(a=I,we++):(a=n,0===He&&peg$fail(S)),a!==n)for(;a!==n;)r.push(a),47===e.charCodeAt(we)?(a=I,we++):(a=n,0===He&&peg$fail(S));else r=n;if(r===n){if(r=[],59===e.charCodeAt(we)?(a=N,we++):(a=n,0===He&&peg$fail(z)),a!==n)for(;a!==n;)r.push(a),59===e.charCodeAt(we)?(a=N,we++):(a=n,0===He&&peg$fail(z));else r=n;if(r===n){if(r=[],61===e.charCodeAt(we)?(a=P,we++):(a=n,0===He&&peg$fail(q)),a!==n)for(;a!==n;)r.push(a),61===e.charCodeAt(we)?(a=P,we++):(a=n,0===He&&peg$fail(q));else r=n;if(r===n){if(r=[],62===e.charCodeAt(we)?(a=R,we++):(a=n,0===He&&peg$fail(F)),a!==n)for(;a!==n;)r.push(a),62===e.charCodeAt(we)?(a=R,we++):(a=n,0===He&&peg$fail(F));else r=n;if(r===n){if(r=[],63===e.charCodeAt(we)?(a=D,we++):(a=n,0===He&&peg$fail(U)),a!==n)for(;a!==n;)r.push(a),63===e.charCodeAt(we)?(a=D,we++):(a=n,0===He&&peg$fail(U));else r=n;if(r===n){if(r=[],64===e.charCodeAt(we)?(a=W,we++):(a=n,0===He&&peg$fail(L)),a!==n)for(;a!==n;)r.push(a),64===e.charCodeAt(we)?(a=W,we++):(a=n,0===He&&peg$fail(L));else r=n;if(r===n){if(r=[],92===e.charCodeAt(we)?(a=J,we++):(a=n,0===He&&peg$fail(Y)),a!==n)for(;a!==n;)r.push(a),92===e.charCodeAt(we)?(a=J,we++):(a=n,0===He&&peg$fail(Y));else r=n;if(r===n){if(r=[],94===e.charCodeAt(we)?(a=B,we++):(a=n,0===He&&peg$fail(G)),a!==n)for(;a!==n;)r.push(a),94===e.charCodeAt(we)?(a=B,we++):(a=n,0===He&&peg$fail(G));else r=n;if(r===n){if(r=[],95===e.charCodeAt(we)?(a=K,we++):(a=n,0===He&&peg$fail(Q)),a!==n)for(;a!==n;)r.push(a),95===e.charCodeAt(we)?(a=K,we++):(a=n,0===He&&peg$fail(Q));else r=n;if(r===n){if(r=[],123===e.charCodeAt(we)?(a=V,we++):(a=n,0===He&&peg$fail(X)),a!==n)for(;a!==n;)r.push(a),123===e.charCodeAt(we)?(a=V,we++):(a=n,0===He&&peg$fail(X));else r=n;if(r===n){if(r=[],124===e.charCodeAt(we)?(a=Z,we++):(a=n,0===He&&peg$fail(ee)),a!==n)for(;a!==n;)r.push(a),124===e.charCodeAt(we)?(a=Z,we++):(a=n,0===He&&peg$fail(ee));else r=n;if(r===n){if(r=[],125===e.charCodeAt(we)?(a=te,we++):(a=n,0===He&&peg$fail(re)),a!==n)for(;a!==n;)r.push(a),125===e.charCodeAt(we)?(a=te,we++):(a=n,0===He&&peg$fail(re));else r=n;if(r===n)if(r=[],126===e.charCodeAt(we)?(a=ne,we++):(a=n,0===He&&peg$fail(ae)),a!==n)for(;a!==n;)r.push(a),126===e.charCodeAt(we)?(a=ne,we++):(a=n,0===He&&peg$fail(ae));else r=n}}}}}}}}}}}}}}}}}}}}}}}t=r!==n?e.substring(t,we):r;if(t===n){if(t=we,ie.test(e.charAt(we))?(r=e.charAt(we),we++):(r=n,0===He&&peg$fail(oe)),r!==n){for(a=we,i=[],le.test(e.charAt(we))?(o=e.charAt(we),we++):(o=n,0===He&&peg$fail(se));o!==n;)i.push(o),le.test(e.charAt(we))?(o=e.charAt(we),we++):(o=n,0===He&&peg$fail(se));if((a=i!==n?e.substring(a,we):i)!==n){if(i=we,o=[],l=we,58===e.charCodeAt(we)?(s=pe,we++):(s=n,0===He&&peg$fail(ue)),s!==n)if(ie.test(e.charAt(we))?(ce=e.charAt(we),we++):(ce=n,0===He&&peg$fail(oe)),ce!==n){for(he=[],le.test(e.charAt(we))?(de=e.charAt(we),we++):(de=n,0===He&&peg$fail(se));de!==n;)he.push(de),le.test(e.charAt(we))?(de=e.charAt(we),we++):(de=n,0===He&&peg$fail(se));he!==n?(ke=l,l=s=peg$c65(0,0,ce,he)):(we=l,l=n)}else we=l,l=n;else we=l,l=n;for(;l!==n;)if(o.push(l),l=we,58===e.charCodeAt(we)?(s=pe,we++):(s=n,0===He&&peg$fail(ue)),s!==n)if(ie.test(e.charAt(we))?(ce=e.charAt(we),we++):(ce=n,0===He&&peg$fail(oe)),ce!==n){for(he=[],le.test(e.charAt(we))?(de=e.charAt(we),we++):(de=n,0===He&&peg$fail(se));de!==n;)he.push(de),le.test(e.charAt(we))?(de=e.charAt(we),we++):(de=n,0===He&&peg$fail(se));he!==n?(ke=l,l=s=peg$c65(0,0,ce,he)):(we=l,l=n)}else we=l,l=n;else we=l,l=n;(i=o!==n?e.substring(i,we):o)!==n?(ke=t,t=r=r+a+i):(we=t,t=n)}else we=t,t=n}else we=t,t=n;t===n&&(t=fe)}return t}(),a!==n?(i=function peg$parseattributes(){var t,r,a,i,o,l,s,p,u,h,d,g,m;t=we,40===e.charCodeAt(we)?(r="(",we++):(r=n,0===He&&peg$fail(ce));if(r!==n){if(a=[],i=we,o=we,l=[],he.test(e.charAt(we))?(s=e.charAt(we),we++):(s=n,0===He&&peg$fail(de)),s!==n)for(;s!==n;)l.push(s),he.test(e.charAt(we))?(s=e.charAt(we),we++):(s=n,0===He&&peg$fail(de));else l=n;if((o=l!==n?e.substring(o,we):l)!==n){if(l=we,61===e.charCodeAt(we)?(s=P,we++):(s=n,0===He&&peg$fail(q)),s!==n)if(34===e.charCodeAt(we)?(p=f,we++):(p=n,0===He&&peg$fail(c)),p!==n){for(u=we,h=[],d=we,g=we,He++,34===e.charCodeAt(we)?(m=f,we++):(m=n,0===He&&peg$fail(c)),He--,m===n?g=void 0:(we=g,g=n),g!==n?(e.length>we?(m=e.charAt(we),we++):(m=n,0===He&&peg$fail(ge)),m!==n?d=g=[g,m]:(we=d,d=n)):(we=d,d=n);d!==n;)h.push(d),d=we,g=we,He++,34===e.charCodeAt(we)?(m=f,we++):(m=n,0===He&&peg$fail(c)),He--,m===n?g=void 0:(we=g,g=n),g!==n?(e.length>we?(m=e.charAt(we),we++):(m=n,0===He&&peg$fail(ge)),m!==n?d=g=[g,m]:(we=d,d=n)):(we=d,d=n);(u=h!==n?e.substring(u,we):h)!==n?(34===e.charCodeAt(we)?(h=f,we++):(h=n,0===He&&peg$fail(c)),h===n&&(h=we,(d=peg$parseEOF())!==n&&(ke=h,d=""),h=d),h!==n?(ke=l,l=s=peg$c74(0,0,s,p,u,h)):(we=l,l=n)):(we=l,l=n)}else we=l,l=n;else we=l,l=n;if(l===n){if(l=we,61===e.charCodeAt(we)?(s=P,we++):(s=n,0===He&&peg$fail(q)),s!==n)if(39===e.charCodeAt(we)?(p=b,we++):(p=n,0===He&&peg$fail(A)),p!==n){for(u=we,h=[],d=we,g=we,He++,39===e.charCodeAt(we)?(m=b,we++):(m=n,0===He&&peg$fail(A)),He--,m===n?g=void 0:(we=g,g=n),g!==n?(e.length>we?(m=e.charAt(we),we++):(m=n,0===He&&peg$fail(ge)),m!==n?d=g=[g,m]:(we=d,d=n)):(we=d,d=n);d!==n;)h.push(d),d=we,g=we,He++,39===e.charCodeAt(we)?(m=b,we++):(m=n,0===He&&peg$fail(A)),He--,m===n?g=void 0:(we=g,g=n),g!==n?(e.length>we?(m=e.charAt(we),we++):(m=n,0===He&&peg$fail(ge)),m!==n?d=g=[g,m]:(we=d,d=n)):(we=d,d=n);(u=h!==n?e.substring(u,we):h)!==n?(39===e.charCodeAt(we)?(h=b,we++):(h=n,0===He&&peg$fail(A)),h===n&&(h=we,(d=peg$parseEOF())!==n&&(ke=h,d=""),h=d),h!==n?(ke=l,l=s=peg$c74(0,0,s,p,u,h)):(we=l,l=n)):(we=l,l=n)}else we=l,l=n;else we=l,l=n;if(l===n){if(l=we,61===e.charCodeAt(we)?(s=P,we++):(s=n,0===He&&peg$fail(q)),s!==n){for(p=we,u=[],h=we,d=we,He++,me.test(e.charAt(we))?(g=e.charAt(we),we++):(g=n,0===He&&peg$fail($e)),He--,g===n?d=void 0:(we=d,d=n),d!==n?(e.length>we?(g=e.charAt(we),we++):(g=n,0===He&&peg$fail(ge)),g!==n?h=d=[d,g]:(we=h,h=n)):(we=h,h=n);h!==n;)u.push(h),h=we,d=we,He++,me.test(e.charAt(we))?(g=e.charAt(we),we++):(g=n,0===He&&peg$fail($e)),He--,g===n?d=void 0:(we=d,d=n),d!==n?(e.length>we?(g=e.charAt(we),we++):(g=n,0===He&&peg$fail(ge)),g!==n?h=d=[d,g]:(we=h,h=n)):(we=h,h=n);(p=u!==n?e.substring(p,we):u)!==n?(ke=l,l=s=peg$c77(0,0,s,p)):(we=l,l=n)}else we=l,l=n;l===n&&(l=we,(s=fe)!==n&&(ke=l,s=["","","",""]),l=s)}}l!==n?(ke=i,i=o=peg$c79(0,o,l)):(we=i,i=n)}else we=i,i=n;for(i===n&&(i=we,(o=peg$parse__())!==n&&(ke=i,o=peg$c80(0,o)),(i=o)===n&&(i=we,o=we,l=we,s=we,He++,41===e.charCodeAt(we)?(p=E,we++):(p=n,0===He&&peg$fail(C)),He--,p===n?s=void 0:(we=s,s=n),s!==n?(p=we,He++,u=peg$parserbm(),He--,u===n?p=void 0:(we=p,p=n),p!==n?(e.length>we?(u=e.charAt(we),we++):(u=n,0===He&&peg$fail(ge)),u!==n?l=s=[s,p,u]:(we=l,l=n)):(we=l,l=n)):(we=l,l=n),(o=l!==n?e.substring(o,we):l)!==n&&(ke=i,o=peg$c81(0,o)),i=o));i!==n;){if(a.push(i),i=we,o=we,l=[],he.test(e.charAt(we))?(s=e.charAt(we),we++):(s=n,0===He&&peg$fail(de)),s!==n)for(;s!==n;)l.push(s),he.test(e.charAt(we))?(s=e.charAt(we),we++):(s=n,0===He&&peg$fail(de));else l=n;if((o=l!==n?e.substring(o,we):l)!==n){if(l=we,61===e.charCodeAt(we)?(s=P,we++):(s=n,0===He&&peg$fail(q)),s!==n)if(34===e.charCodeAt(we)?(p=f,we++):(p=n,0===He&&peg$fail(c)),p!==n){for(u=we,h=[],d=we,g=we,He++,34===e.charCodeAt(we)?(m=f,we++):(m=n,0===He&&peg$fail(c)),He--,m===n?g=void 0:(we=g,g=n),g!==n?(e.length>we?(m=e.charAt(we),we++):(m=n,0===He&&peg$fail(ge)),m!==n?d=g=[g,m]:(we=d,d=n)):(we=d,d=n);d!==n;)h.push(d),d=we,g=we,He++,34===e.charCodeAt(we)?(m=f,we++):(m=n,0===He&&peg$fail(c)),He--,m===n?g=void 0:(we=g,g=n),g!==n?(e.length>we?(m=e.charAt(we),we++):(m=n,0===He&&peg$fail(ge)),m!==n?d=g=[g,m]:(we=d,d=n)):(we=d,d=n);(u=h!==n?e.substring(u,we):h)!==n?(34===e.charCodeAt(we)?(h=f,we++):(h=n,0===He&&peg$fail(c)),h===n&&(h=we,(d=peg$parseEOF())!==n&&(ke=h,d=""),h=d),h!==n?(ke=l,l=s=peg$c74(0,0,s,p,u,h)):(we=l,l=n)):(we=l,l=n)}else we=l,l=n;else we=l,l=n;if(l===n){if(l=we,61===e.charCodeAt(we)?(s=P,we++):(s=n,0===He&&peg$fail(q)),s!==n)if(39===e.charCodeAt(we)?(p=b,we++):(p=n,0===He&&peg$fail(A)),p!==n){for(u=we,h=[],d=we,g=we,He++,39===e.charCodeAt(we)?(m=b,we++):(m=n,0===He&&peg$fail(A)),He--,m===n?g=void 0:(we=g,g=n),g!==n?(e.length>we?(m=e.charAt(we),we++):(m=n,0===He&&peg$fail(ge)),m!==n?d=g=[g,m]:(we=d,d=n)):(we=d,d=n);d!==n;)h.push(d),d=we,g=we,He++,39===e.charCodeAt(we)?(m=b,we++):(m=n,0===He&&peg$fail(A)),He--,m===n?g=void 0:(we=g,g=n),g!==n?(e.length>we?(m=e.charAt(we),we++):(m=n,0===He&&peg$fail(ge)),m!==n?d=g=[g,m]:(we=d,d=n)):(we=d,d=n);(u=h!==n?e.substring(u,we):h)!==n?(39===e.charCodeAt(we)?(h=b,we++):(h=n,0===He&&peg$fail(A)),h===n&&(h=we,(d=peg$parseEOF())!==n&&(ke=h,d=""),h=d),h!==n?(ke=l,l=s=peg$c74(0,0,s,p,u,h)):(we=l,l=n)):(we=l,l=n)}else we=l,l=n;else we=l,l=n;if(l===n){if(l=we,61===e.charCodeAt(we)?(s=P,we++):(s=n,0===He&&peg$fail(q)),s!==n){for(p=we,u=[],h=we,d=we,He++,me.test(e.charAt(we))?(g=e.charAt(we),we++):(g=n,0===He&&peg$fail($e)),He--,g===n?d=void 0:(we=d,d=n),d!==n?(e.length>we?(g=e.charAt(we),we++):(g=n,0===He&&peg$fail(ge)),g!==n?h=d=[d,g]:(we=h,h=n)):(we=h,h=n);h!==n;)u.push(h),h=we,d=we,He++,me.test(e.charAt(we))?(g=e.charAt(we),we++):(g=n,0===He&&peg$fail($e)),He--,g===n?d=void 0:(we=d,d=n),d!==n?(e.length>we?(g=e.charAt(we),we++):(g=n,0===He&&peg$fail(ge)),g!==n?h=d=[d,g]:(we=h,h=n)):(we=h,h=n);(p=u!==n?e.substring(p,we):u)!==n?(ke=l,l=s=peg$c77(0,0,s,p)):(we=l,l=n)}else we=l,l=n;l===n&&(l=we,(s=fe)!==n&&(ke=l,s=["","","",""]),l=s)}}l!==n?(ke=i,i=o=peg$c79(0,o,l)):(we=i,i=n)}else we=i,i=n;i===n&&(i=we,(o=peg$parse__())!==n&&(ke=i,o=peg$c80(0,o)),(i=o)===n&&(i=we,o=we,l=we,s=we,He++,41===e.charCodeAt(we)?(p=E,we++):(p=n,0===He&&peg$fail(C)),He--,p===n?s=void 0:(we=s,s=n),s!==n?(p=we,He++,u=peg$parserbm(),He--,u===n?p=void 0:(we=p,p=n),p!==n?(e.length>we?(u=e.charAt(we),we++):(u=n,0===He&&peg$fail(ge)),u!==n?l=s=[s,p,u]:(we=l,l=n)):(we=l,l=n)):(we=l,l=n),(o=l!==n?e.substring(o,we):l)!==n&&(ke=i,o=peg$c81(0,o)),i=o))}a!==n?(41===e.charCodeAt(we)?(i=E,we++):(i=n,0===He&&peg$fail(C)),i===n&&(i=we,o=we,He++,l=peg$parserbm(),He--,l!==n?(we=o,o=void 0):o=n,o!==n&&(ke=i,o=""),i=o),i!==n?(ke=t,t=r={_type:"parenthesis",left:r,content:a,right:i}):(we=t,t=n)):(we=t,t=n)}else we=t,t=n;t===n&&(t=we,46===e.charCodeAt(we)?(r=".",we++):(r=n,0===He&&peg$fail(ve)),r===n&&(r=fe),r!==n&&(ke=t,r={_type:"separator",separator:r}),t=r);return t}(),i!==n&&(o=peg$parsethings())!==n?(l=function peg$parserbm_pop(){var e,t;e=we,(t=peg$parserbm())!==n&&(ke=e,r=t,Oe.pop(),t=r);var r;return e=t}(),l!==n?(ke=t,t=r={type:"element",lbm:r,name:a,attributes:i,children:o,rbm:l,location:location()}):(we=t,t=n)):(we=t,t=n)):(we=t,t=n)):(we=t,t=n);return t}())===n&&(t=function peg$parseverbatim(){var t,r,a,i,o;t=we,r=function peg$parselvm(){var t,r,a,i;t=we,96===e.charCodeAt(we)?(r=be,we++):(r=n,0===He&&peg$fail(Ae));if(r!==n){for(a=[],60===e.charCodeAt(we)?(i=l,we++):(i=n,0===He&&peg$fail(s));i!==n;)a.push(i),60===e.charCodeAt(we)?(i=l,we++):(i=n,0===He&&peg$fail(s));a!==n?(ke=t,o=r,Me=(p=a).length+1,t=r=o+p.join("")):(we=t,t=n)}else we=t,t=n;var o,p;return t}(),r!==n?(a=function peg$parseverbatim_separator(){var t;46===e.charCodeAt(we)?(t=ye,we++):(t=n,0===He&&peg$fail(ve));t===n&&(t=fe);return t}(),a!==n?(i=function peg$parseverbatim_text(){var t,r,a,i,o;t=we,r=[],a=we,i=we,He++,o=peg$parservm(),He--,o===n?i=void 0:(we=i,i=n);i!==n?(e.length>we?(o=e.charAt(we),we++):(o=n,0===He&&peg$fail(ge)),o!==n?(ke=a,a=i=o):(we=a,a=n)):(we=a,a=n);for(;a!==n;)r.push(a),a=we,i=we,He++,o=peg$parservm(),He--,o===n?i=void 0:(we=i,i=n),i!==n?(e.length>we?(o=e.charAt(we),we++):(o=n,0===He&&peg$fail(ge)),o!==n?(ke=a,a=i=o):(we=a,a=n)):(we=a,a=n);r!==n&&(ke=t,r=peg$c96(r));return t=r}(),i!==n&&(o=peg$parservm())!==n?(ke=t,t=r={type:"verbatim",lvm:r,separator:a,child:i,rvm:o,location:location()}):(we=t,t=n)):(we=t,t=n)):(we=t,t=n);return t}())===n&&(t=function peg$parsetext(){var t,r,a,i,o,l,s;t=we,r=[],a=we,i=we,He++,o=peg$parselbm(),He--,o===n?i=void 0:(we=i,i=n);i!==n?(o=we,He++,l=peg$parserbm(),He--,l===n?o=void 0:(we=o,o=n),o!==n?(l=we,He++,96===e.charCodeAt(we)?(s=be,we++):(s=n,0===He&&peg$fail(Ae)),He--,s===n?l=void 0:(we=l,l=n),l!==n?(e.length>we?(s=e.charAt(we),we++):(s=n,0===He&&peg$fail(ge)),s!==n?(ke=a,a=i=s):(we=a,a=n)):(we=a,a=n)):(we=a,a=n)):(we=a,a=n);if(a!==n)for(;a!==n;)r.push(a),a=we,i=we,He++,o=peg$parselbm(),He--,o===n?i=void 0:(we=i,i=n),i!==n?(o=we,He++,l=peg$parserbm(),He--,l===n?o=void 0:(we=o,o=n),o!==n?(l=we,He++,96===e.charCodeAt(we)?(s=be,we++):(s=n,0===He&&peg$fail(Ae)),He--,s===n?l=void 0:(we=l,l=n),l!==n?(e.length>we?(s=e.charAt(we),we++):(s=n,0===He&&peg$fail(ge)),s!==n?(ke=a,a=i=s):(we=a,a=n)):(we=a,a=n)):(we=a,a=n)):(we=a,a=n);else r=n;r!==n&&(ke=t,r=peg$c96(r));return t=r}()),t}function peg$parselbm(){var t,r,a,i,p,u;if(t=we,91===e.charCodeAt(we)?(r="[",we++):(r=n,0===He&&peg$fail(o)),r!==n){for(a=we,i=[],60===e.charCodeAt(we)?(p=l,we++):(p=n,0===He&&peg$fail(s));p!==n;)i.push(p),60===e.charCodeAt(we)?(p=l,we++):(p=n,0===He&&peg$fail(s));(a=i!==n?e.substring(a,we):i)!==n?(ke=we,u=a,(i=(i=(Oe[Oe.length-1]||0)<=u.length+1)?void 0:n)!==n?(ke=t,r=function(e,t){return e+t}(r,a),t=r):(we=t,t=n)):(we=t,t=n)}else we=t,t=n;return t}function peg$parserbm(){var t,r,a,i,o;for(t=we,r=we,a=[],62===e.charCodeAt(we)?(i=R,we++):(i=n,0===He&&peg$fail(F));i!==n;)a.push(i),62===e.charCodeAt(we)?(i=R,we++):(i=n,0===He&&peg$fail(F));return(r=a!==n?e.substring(r,we):a)!==n?(93===e.charCodeAt(we)?(a="]",we++):(a=n,0===He&&peg$fail(xe)),a!==n?(ke=we,o=r,(i=(i=(Oe[Oe.length-1]||0)==o.length+1)?void 0:n)!==n?(ke=t,r=function(e,t){return e+t}(r,a),t=r):(we=t,t=n)):(we=t,t=n)):(we=t,t=n),t===n&&(t=we,(r=peg$parseEOF())!==n&&(ke=t,r=""),t=r),t}function peg$parseEOF(){var t,r;return t=we,He++,e.length>we?(r=e.charAt(we),we++):(r=n,0===He&&peg$fail(ge)),He--,r===n?t=void 0:(we=t,t=n),t}function peg$parservm(){var t,r,a;for(t=we,r=[],62===e.charCodeAt(we)?(a=R,we++):(a=n,0===He&&peg$fail(F));a!==n;)r.push(a),62===e.charCodeAt(we)?(a=R,we++):(a=n,0===He&&peg$fail(F));return r!==n?(96===e.charCodeAt(we)?(a=be,we++):(a=n,0===He&&peg$fail(Ae)),a!==n?(ke=we,(Me==r.length+1?void 0:n)!==n?(ke=t,r=function(e,t){return e.join("")+t}(r,a),t=r):(we=t,t=n)):(we=t,t=n)):(we=t,t=n),t===n&&(t=we,(r=peg$parseEOF())!==n&&(ke=t,r=""),t=r),t}function peg$parse__(){var t,r,a;if(t=we,r=[],Ee.test(e.charAt(we))?(a=e.charAt(we),we++):(a=n,0===He&&peg$fail(Ce)),a!==n)for(;a!==n;)r.push(a),Ee.test(e.charAt(we))?(a=e.charAt(we),we++):(a=n,0===He&&peg$fail(Ce));else r=n;return t=r!==n?e.substring(t,we):r}var Me,Oe=[];if((r=i())!==n&&we===e.length)return r;throw r!==n&&we<e.length&&peg$fail({type:"end"}),peg$buildStructuredError(je,Te<e.length?e.charAt(Te):null,Te<e.length?peg$computeLocation(Te,Te+1):peg$computeLocation(Te,Te))}}},193:(e,t)=>{function shallow(e){var t={};for(var r in e)t[r]=e[r];return t}function copyOptions(e){var t={};return e.tags&&(t.tags=shallow(e.tags)),e.hljs&&(t.hljs=e.hljs),e.katex&&(t.katex=e.katex),t}function tags(e,t){for(var r in e=shallow(e),t)e[r]=t[r];return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default={copyOptions,tags,options:function options(e,t){if("object"!=typeof e||"object"!=typeof t)throw TypeError("One of the options provided is not an object");return e=copyOptions(e),t.tags&&(e.tags||(e.tags={}),e.tags=tags(e.tags,t.tags)),t.hljs&&(e.hljs=t.hljs),t.katex&&(e.katex=t.katex),e}}},539:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=4,n=5;t.default=function addCodeMirrorMode(e){function token(e,t){if((t.levels[t.levels.length-1]||0)<0){var a=-t.levels[t.levels.length-1],i=">".repeat(a-1)+"`";return e.skipTo(i)?(e.match(i),t.levels.pop()):e.skipToEnd(),"comment"}var o=e.peek();if(![r,n].includes(t.status)&&[">","]"].includes(o)&&(p=t.levels[t.levels.length-1]||0)>0){var l=">".repeat(p-1)+"]";if(e.match(l))return t.levels.pop(),t.status=0,"tag"}if(0!=t.status){if(e.match(")"))return t.status=0,"tag";if(1==t.status)return e.match(/^[a-z0-9-]+/)?(t.status=2,"attribute"):e.match(/^[ \t\n\r]+/)?null:(e.next(),"error");if(2==t.status)return e.match("=")?(t.status=3,null):(t.status=1,null);if(3==t.status)return e.match('"')?(t.status=r,"string"):e.match("'")?(t.status=n,"string"):(e.match(/^[^'"()\[\] \t\n\r]*/),t.status=1,"string");if(t.status==r)return e.skipTo('"')?(e.match('"'),t.status=1):e.skipToEnd(),"string";if(t.status==n)return e.skipTo("'")?(e.match("'"),t.status=1):e.skipToEnd(),"string"}if("`"==o){e.next();for(var s=1;o=e.next();){if("<"!=o){e.backUp(1);break}s++}return t.levels.push(-s),"comment"}if("["==o){e.next();for(s=1;o=e.next();){if("<"!=o){e.backUp(1);break}s++}if(s<(t.levels[t.levels.length-1]||0))return null;if(e.match(/^(?:\!+|\"+|\#+|\$+|\%+|\&+|\'+|\)+|\*+|\++|\,+|\-+|\/+|\;+|\=+|\>+|\?+|\@+|\\+|\^+|\_+|\{+|\|+|\}+|\~+|[a-z][a-z0-9]*(?:\:[a-z][a-z0-9]*)*|)/),e.match("("))t.status=1;else{e.match(/^(?:[.]|)/i)}return t.levels.push(s),"tag"}if(">"==o||"]"==o){var p;if((p=t.levels[t.levels.length-1]||0)<=0)return e.next(),null;l=">".repeat(p-1)+"]";return e.match(l)?(t.levels.pop(),"tag"):(e.next(),null)}e.match(/^[^\[\]`>]+/)}e.defineMode("yamd",((e,t)=>({startState:e=>({levels:[],status:0}),token})))}},419:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(215)),i=n(r(838)),o=n(r(456)),l=n(r(193)),s=n(r(539));var p={};var u={parser:a.default,renderer:i.default,highlighter:o.default,ast2nt:function ast2nt(e,t){return t||(t={}),t.tags||(t.tags={}),t=l.default.options(p,t),i.default.ast2nt(e,t)},render:function render(e,t){e+="",t||(t={}),t.tags||(t.tags={}),t=l.default.options(p,t);var r=a.default.input2pt(e),n=a.default.pt2ast(r);return i.default.ast2nt(n,t).outerHtml},highlight:function highlight(e){e+="";var t=a.default.input2pt(e);return o.default.pt2hl(t)},cascade:function cascadeOptions(e){if("object"!=typeof e)throw TypeError("typeof options != 'object'");p=l.default.options(p,e)},set:function setOptions(e){if("object"!=typeof e)throw TypeError("typeof options != 'object'");p=e},addCodeMirrorMode:s.default};e.exports=u},456:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});function makeHtml(e){return`<span class="yamdhl-${e.type}">${e.html||(t=e.text,(t+"").replace(/[&<>"']/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e]))))}</span>`;var t}t.default={pt2hl:function pt2hl(e){return function recurse(e){for(var t="",r=0;r<e.length;r++)switch(e[r].type){case"text":t+=makeHtml({type:"tx",text:e[r].text});break;case"element":var n=makeHtml({type:"lbm",text:e[r].lbm})+makeHtml({type:"tn",text:e[r].name})+(e=>{switch(e._type){case"parenthesis":return makeHtml({type:"lpm",text:e.left})+e.content.map((e=>{switch(e._type){case"attribute":return makeHtml({type:"pk",text:e.attribute[0]})+makeHtml({type:"eq",text:e.attribute[1]})+makeHtml({type:"lqm",text:e.attribute[2]})+makeHtml({type:"pv",text:e.attribute[3]})+makeHtml({type:"rqm",text:e.attribute[4]});case"whitespace":return makeHtml({type:"tx",text:e.whitespace});case"error":return makeHtml({type:"err",text:e.error});default:throw Error("Unknown type")}})).join("")+makeHtml({type:"rpm",text:e.right});case"separator":return makeHtml({type:"sp",text:e.separator});default:throw Error("Unknown type")}})(e[r].attributes)+recurse(e[r].children)+makeHtml({type:"rbm",text:e[r].rbm});t+=makeHtml({type:"elem",html:n});break;case"verbatim":var a=makeHtml({type:"lvm",text:e[r].lvm+e[r].separator})+makeHtml({type:"tx",text:e[r].child.text})+makeHtml({type:"rvm",text:e[r].rvm});t+=makeHtml({type:"verb",html:a});break;default:throw new TypeError(`Unknown type: ${e[r].type}`)}return t}(e.root.children)}}},215:(e,t,r)=>{let n;Object.defineProperty(t,"__esModule",{value:!0}),n=r(207),t.default={input2pt:function input2pt(e){var t=n.parse(e);return t.input=e,t},pt2ast:function pt2ast(e){var t=e.input,r=function recurse(e){var r=e.map((e=>{switch(e.type){case"text":return{type:"text",text:e.text};case"verbatim":return{type:"text",text:e.child.text};case"element":var r="parenthesis"!=e.attributes._type?[]:e.attributes.content.filter((({_type:e})=>"attribute"==e)).map((({attribute:e})=>({name:e[0],value:e[3]})));return{type:"element",name:e.name,attributes:r,code:t.substring(e.location.start.offset,e.location.end.offset),children:recurse(e.children)};default:throw new TypeError(`Unknown type: ${e.type}`)}}));return r=r.reduce(((e,t)=>{if("text"==t.type){if(!t.text)return e;if(e.length&&"text"==e[e.length-1].type)return e[e.length-1].text+=t.text,e}return e.push(t),e}),[]),r}(e.root.children);return{input:e.input,root:{type:"root",children:r,code:t}}}}},969:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(122));var i={};function normalizeUrl(e){return e=e.trim(),/^#/.test(e)?!!/^#[^\s]*$/.test(e)&&e:/^(\/|\.\/|\.\.\/)/.test(e)?!!/^(\/|\.\/|\.\.\/)[^\s]*$/.test(e)&&e:(/^(http:\/\/|https:\/\/|ftp:\/\/)/.test(e)||(e="http://"+e),!!/^(http:\/\/|https:\/\/|ftp:\/\/)[a-z0-9]+(-+[a-z0-9]+)*(\.[a-z0-9]+(-+[a-z0-9]+)*)+\.?(:[0-9]{1,5})?(\/[^\s]*)?$/.test(e)&&e)}i.comment=new a.default({name:"comment",display:"inline",renderer:e=>e.text("")}),i.entity=new a.default({name:"entity",display:"inline",renderer:e=>e.innerIsText?/^([a-z]{1,50}|#[0-9]{1,10}|#x[0-9a-f]{1,10})$/i.test(e.innerText)?e.html(`&${e.innerText};`):e.error("Invalid value"):e.error("Non-text input")}),["b","code","i","u","sup","sub"].forEach((e=>i[e]=new a.default({name:e,display:"inline",renderer:t=>t.html(`<${e}>${t.innerHtml}</${e}>`)}))),["h1","h2","h3","h4","h5","h6","p"].forEach((e=>i[e]=new a.default({name:e,display:"leaf-block",renderer:t=>t.html(`<${e}>${t.innerHtml}</${e}>`)}))),i.blockquote=new a.default({name:"blockquote",display:"container-block",renderer:e=>{var t=e.getAttribute("type");return["info","warn"].includes(t)?e.html(`<blockquote class="yamd-bq-${t}">${e.innerHtml}</blockquote>`):e.html(`<blockquote>${e.innerHtml}</blockquote>`)}}),["br"].forEach((e=>i[e]=new a.default({name:e,display:"inline",renderer:t=>t.html(`<${e}>${t.innerHtml}`)}))),["hr"].forEach((e=>i[e]=new a.default({name:e,display:"leaf-block",renderer:t=>t.html(`<${e}>${t.innerHtml}`)}))),["ul","ol"].forEach((e=>{i[e]=new a.default({name:e,display:"container-block",split:"*",renderer:t=>t.html(`<${e}>`+t.innerHtml.map((e=>`<li>${e}</li>`)).join("")+`</${e}>`)})})),i.table=new a.default({name:"table",display:"container-block",split:["*","**"],renderer:e=>{var t=e.innerHtml.map((e=>e.length)).reduce(((e,t)=>e<t?t:e));return e.html("<table>"+e.innerHtml.map((e=>`<tr>${e.concat(Array(t-e.length).fill("")).map((e=>`<td>${e}</td>`)).join("")}</tr>`)).join("")+"</table>")}}),i.blockcode=new a.default({name:"blockcode",display:"leaf-block",renderer:e=>{var t=e.innerHtml.replace(/(^[ \t]*(\r\n|\r|\n))|((\r\n|\r|\n)[ \t]*$)/g,"");return e.html(`<pre><code>${t}\n</code></pre>`)}}),i.bi=new a.default({name:"bi",display:"inline",renderer:e=>e.html(`<i><b>${e.innerHtml}</b></i>`)}),i.link=new a.default({name:"link",display:"inline",renderer:e=>{var t=e.getAttribute("href");if(null==t){if(!e.innerIsText)return e.error("Non-text input");let t=normalizeUrl(e.innerText);if(!t)return e.error("Invalid URL");let r=e.escapeHtml(t);return e.html(`<a href="${r}" title="${r}">${r}</a>`)}{let r=normalizeUrl(t);if(!r)return e.error("Invalid URL");let n=e.escapeHtml(r);return e.html(`<a href="${n}" title="${n}">${e.innerHtml}</a>`)}}}),i.img=new a.default({name:"img",display:"leaf-block",renderer:e=>{if(!e.innerIsText)return e.error("Non-text input");var t=normalizeUrl(e.innerText);if(!t)return e.error("Invalid URL");var r=e.escapeHtml(t);return e.html(`<img src="${r}">`)}}),["squote","dquote"].forEach((e=>i[e]=new a.default({name:e,display:"inline",renderer:t=>{var r={squote:{normal:["‘","’"],angle:["〈","〉"],corner:["「","」"]},dquote:{normal:["“","”"],angle:["《","》"],corner:["『","』"]}},n=t.getAttribute("type");return["angle","corner"].includes(n)||(n="normal"),t.html(`${r[e][n][0]}${t.innerHtml}${r[e][n][1]}`)}}))),i.highlight=new a.default({name:"highlight",display:"leaf-block",renderer:(e,t)=>{if(!t.hljs)return e.error("Element not implemented (options.highlight not given)");if(!e.innerIsText)return e.error("Non-text input");var r,n=["apache","bash","coffeescript","cpp","cs","css","diff","http","ini","java","javascript","json","makefile","xml","markdown","nginx","objectivec","perl","php","python","ruby","sql"],a=e.innerText.replace(/(^[ \t]*(\r\n|\r|\n))|((\r\n|\r|\n)[ \t]*$)/g,"");if(n.includes(e.getAttribute("lang"))){var i=e.getAttribute("lang");r=t.hljs.highlight(i,a).value}else r=t.hljs.highlightAuto(a,n).value;return e.html(`<pre class="hljs"><code>${r}\n</code></pre>`)}}),i.math=new a.default({name:"math",display:"inline",renderer:(e,t)=>{if(!t.katex)return e.error("Element not implemented (options.katex not given)");if(!e.innerIsText)return e.error("Non-text input");var r=t.katex.renderToString(e.innerText,{throwOnError:!1,displayMode:!1,strict:"error"});return e.html(r)}}),i.displaymath=new a.default({name:"displaymath",display:"leaf-block",renderer:(e,t)=>{if(!t.katex)return e.error("Element not implemented (options.katex not given)");if(!e.innerIsText)return e.error("Non-text input");var r=t.katex.renderToString(e.innerText,{throwOnError:!1,displayMode:!0,strict:"error"});return e.html(r)}});var o={'"':"dquote",$:"math",$$:"displaymath","%":"comment","&":"entity","'":"squote","*":"i","**":"b","***":"bi",";":"code",";;":"blockcode",";;;":"highlight","=":"h1","==":"h2","===":"h3","====":"h4","=====":"h5","======":"h6",">":"blockquote","\\":"br","^":"sup",_:"sub","~":"link","~~":"img"};for(var l in o){if(!i[o[l]])throw TypeError("aliasing failed");i[l]=i[o[l]]}t.default=i},838:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(969)),i=n(r(193)),o=n(r(406)),l=n(r(122)),s=n(r(950)),p=n(r(190)),u=n(r(346)),f=n(r(291));var c=new l.default({name:"[root]",display:"container-block",renderer:e=>e.html(e.innerHtml)});t.default={ast2nt:function ast2nt(e,t){t||(t={}),t.tags||(t.tags={});var r=i.default.tags(a.default,t.tags),n=function recurse(e){if("root"==e.type)return c.createElement({code:e.code,attributes:[],children:e.children.map(recurse),options:t});if("text"==e.type)return new u.default(e.text);if("error"==e.type)return new p.default({message:"Parser error",code:e.text});if("element"==e.type){if(e.name in r&&r[e.name]){if(r[e.name].split){var recurseSplit=(e,t)=>{if(0==t.length)return e.map(recurse);var r,n=t[t.length-1],a=[];(e=e.map((e=>"element"!=e.type||e.name!=n||e.children.length?e:{type:"delimiter"}))).length&&"text"==e[0].type&&!e[0].text.trim()&&(e=e.slice(1)),e.length&&"delimiter"==e[0].type||e.unshift({type:"delimiter"});for(var i=0;i<e.length;i++)"delimiter"==e[i].type?(r&&a.push(r),r=[]):r.push(e[i]);return a.push(r),a.map((e=>recurseSplit(e,t.slice(0,-1))))};return r[e.name].createElement({code:e.code,attributes:e.attributes,children:recurseSplit(e.children,r[e.name].split),options:t})}return r[e.name].createElement({code:e.code,attributes:e.attributes,children:e.children.map(recurse),options:t})}return new p.default({message:e.name?`Undefined tag name [${e.name}]`:"No tag name",code:e.code})}throw TypeError(e.type)}(e.root);return n.render(),n},Node:s.default,TextNode:u.default,HtmlNode:f.default,ErrorNode:p.default,Tag:l.default,Element:o.default}},406:function(e,t,r){var n,a,i,o,l,s,p,u,f,c=this&&this.__classPrivateFieldSet||function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r},h=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isElementDisplayType=void 0;const g=d(r(190)),m=d(r(238)),$=d(r(291)),y=d(r(950)),v=d(r(346));function isElementDisplayType(e){return["inline","leaf-block","container-block"].includes(e)}t.isElementDisplayType=isElementDisplayType;class Element extends y.default{constructor({name:e,display:t,renderer:r,split:c,code:h,attributes:d,children:m,options:$}){if(super(),this.innerIsRendered=!1,n.set(this,void 0),a.set(this,void 0),i.set(this,void 0),this.outerIsRendered=!1,o.set(this,void 0),l.set(this,void 0),s.set(this,void 0),p.set(this,void 0),u.set(this,void 0),f.set(this,void 0),!e)throw TypeError("You give arg0 a bad name");if(!isElementDisplayType(t))throw TypeError('arg0.display should be one of "inline", "leaf-block", or "container-block".');if(!(r instanceof Function))throw TypeError("arg0.render should be a function");if("string"!=typeof h)throw TypeError("You give arg0 a bad code");if(!(d instanceof Array))throw TypeError("attributes should be an array");if((()=>{var foo=e=>e instanceof Element||e instanceof v.default||e instanceof g.default||e instanceof Array&&e.every(foo);if(!m.every(foo))throw TypeError("All arg0.children should either be an Element, a TextNode, or an ErrorNode")})(),c||(c=[]),"string"==typeof c&&(c=[c]),!(c instanceof Array))throw TypeError("arg0.split should be either undefined, a string, or an array");this.name=e,this.display=t,this.renderer=r,this.split=c,this.code=h,this.attributes=d,this.children=m,this.options=$}renderInner(){this.innerIsRendered||((()=>{var e=this.split?this.split.length:0;!function recurse(e,t){if(t>0)return e.forEach((e=>{recurse(e,t-1)}));e.forEach((e=>{e instanceof Element&&e.render()}))}(this.children,e)})(),c(this,n,(()=>{var e=this.split?this.split.length:0,foo=(e,t)=>t>0?e.map((e=>foo(e,t-1))):e.map((e=>{if(e instanceof v.default)return!0;if(e instanceof g.default)return!1;if(e instanceof Element)return e.outerIsText;throw Error("wut")})).every((e=>e));return foo(this.children,e)})()),c(this,a,(()=>{var e=this.split?this.split.length:0,foo=(e,t,r)=>t>0?e.map(((e,n)=>foo(e,t-1,r[n]))):r?e.map((e=>e instanceof v.default?e.text:e.outerText)).join(""):null;return foo(this.children,e,h(this,n))})()),c(this,i,(()=>{var e=this.split?this.split.length:0,foo=(e,t,r,n)=>{if(t>0)return e.map(((e,a)=>foo(e,t-1,r[a],n[a])));if(r)return n.trim()&&"container-block"==this.display?n.split(/(?:\r\n[ \t]*){2,}|(?:\r[ \t]*){2,}|(?:\n[ \t]*){2,}/).filter((e=>!!e.trim())).map(m.default).map((e=>`<p>${e}</p>`)).join(""):m.default(n);if("container-block"!=this.display)return e.map((e=>e instanceof v.default?m.default(e.text):e instanceof g.default?e.toHtml():e.outerHtml)).join("");var a=[],i=[],commit=()=>{i.length&&(a.push(i),i=[])},add=e=>i.push(e);return e.forEach((e=>{if(e instanceof v.default){var t=e.text.split(/(?:\r\n[ \t]*){2,}|(?:\r[ \t]*){2,}|(?:\n[ \t]*){2,}/);if(t.length<2)return add(e);t.forEach(((e,r)=>{e.trim()&&add(this.text(e)),r<t.length-1&&commit()}))}else e instanceof g.default?add(e):"inline"!=e.display?(commit(),a.push(e),commit()):add(e)})),commit(),a.map((e=>e instanceof Array?"<p>"+e.map((e=>e instanceof v.default?m.default(e.text):e instanceof g.default?e.toHtml():e.outerHtml)).join("")+"</p>":e.outerHtml)).join("")};return foo(this.children,e,h(this,n),h(this,a))})()),this.innerIsRendered=!0)}get innerIsText(){if(!this.innerIsRendered)throw Error("Cannot access Element#innerIsText before it is initialized");return h(this,n)}get innerText(){if(!this.innerIsRendered)throw Error("Cannot access Element#innerText before it is initialized");return h(this,a)}get innerHtml(){if(!this.innerIsRendered)throw Error("Cannot access Element#innerHtml before it is initialized");return h(this,i)}render(){if(this.outerIsRendered)return h(this,o);this.renderInner();var e=this.renderer(this,this.options);if(c(this,o,e),c(this,l,e instanceof v.default),c(this,s,e instanceof v.default?e.text:null),c(this,p,e instanceof g.default),c(this,u,e instanceof g.default?e.message:null),h(this,l))c(this,f,m.default(h(this,s)));else if(e instanceof $.default)c(this,f,e.html);else{if(!(e instanceof g.default))throw TypeError("Render output should be one of TextNode, HtmlNode, or ErrorNode");c(this,f,e.toHtml())}this.outerIsRendered=!0}get outerIsText(){if(!this.outerIsRendered)throw Error("Cannot access Element#outerIsText before it is initialized");return h(this,l)}get outerText(){if(!this.outerIsRendered)throw Error("Cannot access Element#outerText before it is initialized");return h(this,s)}get outerHtml(){if(!this.outerIsRendered)throw Error("Cannot access Element#outerHtml before it is initialized");return h(this,f)}get isError(){if(!this.outerIsRendered)throw Error("Cannot access Element#isError before it is initialized");return h(this,p)}get errorMessage(){if(!this.outerIsRendered)throw Error("Cannot access Element#errorMessage before it is initialized");return h(this,u)}text(e){return new v.default(e)}html(e){return new $.default({html:e,display:this.display})}error(e){return new g.default({message:`[${this.name}]: ${e}`,code:this.code})}getAttribute(e){for(var t=0;t<this.attributes.length;t++)if(this.attributes[t].name==e)return this.attributes[t].value;return null}toIndentedString(e){var t=["display","split","code","attributes","innerIsText","innerText","innerHtml","outerIsText","outerText","outerHtml","isError","errorMessage"].map((e=>e+"="+("string"==typeof this[e]||this[e]instanceof Array?JSON.stringify(this[e]):this[e]+""))).join("\n"+"\t".repeat(e+1)),r=function recurse(e,t){return e.map((e=>e instanceof Array?["[","\t"+recurse(e,t+1),"]"].join("\n"+"\t".repeat(t)):e.toIndentedString(t))).join(",\n"+"\t".repeat(t))}(this.children,e+1);return`Element[${JSON.stringify(this.name)}](\n${"\t".repeat(e+1)}${t}\n${"\t".repeat(e)}) {\n`+"\t".repeat(e+1)+`${r}\n`+`${"\t".repeat(e)}}`}escapeHtml(e){return m.default(e)}}t.default=Element,n=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,s=new WeakMap,p=new WeakMap,u=new WeakMap,f=new WeakMap},190:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(238)),i=n(r(950));class ErrorNode extends i.default{constructor({message:e,code:t}){if(super(),"string"!=typeof e)throw TypeError("message not string");if("string"!=typeof t)throw TypeError("code not string");this.message=e,this.code=t}toHtml(){return`<code class="yamd-error" title="Error: ${a.default(this.message)}">${a.default(this.code)}</code>`}toIndentedString(e){return`Error(${["message","code"].map((e=>e+"="+JSON.stringify(this[e]))).join(" ")})`}}t.default=ErrorNode},291:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(406),i=n(r(950));class HtmlNode extends i.default{constructor({html:e,display:t}){if(super(),"string"!=typeof e)throw TypeError("html not string");if(!a.isElementDisplayType(t))throw TypeError('arg0.display should be one of "inline", "leaf-block", or "container-block".');this.html=e,this.display=t}toIndentedString(e){return`Html(${["display"].map((e=>e+"="+JSON.stringify(this[e]))).join(" ")}) {${JSON.stringify(this.html)}}`}}t.default=HtmlNode},950:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class Node{toString(){return this.toIndentedString(0)}}},122:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(406));t.default=class Tag{constructor({name:e,display:t,renderer:r,split:n}){if(!e)throw TypeError("You give arg0 a bad name");if(!o.isElementDisplayType(t))throw TypeError('arg0.display should be one of "inline", "leaf-block", or "container-block".');if(!(r instanceof Function))throw TypeError("arg0.render should be a function");if([this.name,this.display]=[e,t],this.renderer=(e,t)=>{if(!(e instanceof o.default))throw TypeError("arg0 should be an instance of yamd.renderer.Element");return r(e,t)},n||(n=[]),"string"==typeof n&&(n=[n]),!(n instanceof Array))throw TypeError("arg0.split should be either undefined, a string, or an array");this.split=n}createElement({code:e,attributes:t,children:r,options:n}){return new o.default({name:this.name,display:this.display,renderer:this.renderer,split:this.split,code:e,attributes:t,children:r,options:n})}}},346:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(950));class TextNode extends a.default{constructor(e){if(super(),"string"!=typeof e)throw TypeError("text not string");this.text=e}toIndentedString(e){return`Text {${JSON.stringify(this.text)}}`}}t.default=TextNode},238:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function escapeHtml(e){return(e+"").replace(/[&<>"']/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e])))}}},t={};var r=function __webpack_require__(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,__webpack_require__),a.exports}(419);return r})()}));
//# sourceMappingURL=yamd.min.js.map